<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Between Worlds</title><style>
/* cspell:disable-file */
/* webkit printing magic: print all background colors */
html {
	-webkit-print-color-adjust: exact;
}
* {
	box-sizing: border-box;
	-webkit-print-color-adjust: exact;
}

html,
body {
	margin: 0;
	padding: 0;
}
@media only screen {
	body {
		margin: 2em auto;
		max-width: 900px;
		color: rgb(55, 53, 47);
	}
}

body {
	line-height: 1.5;
	white-space: pre-wrap;
}

a,
a.visited {
	color: inherit;
	text-decoration: underline;
}

.pdf-relative-link-path {
	font-size: 80%;
	color: #444;
}

h1,
h2,
h3 {
	letter-spacing: -0.01em;
	line-height: 1.2;
	font-weight: 600;
	margin-bottom: 0;
}

.page-title {
	font-size: 2.5rem;
	font-weight: 700;
	margin-top: 0;
	margin-bottom: 0.75em;
}

h1 {
	font-size: 1.875rem;
	margin-top: 1.875rem;
}

h2 {
	font-size: 1.5rem;
	margin-top: 1.5rem;
}

h3 {
	font-size: 1.25rem;
	margin-top: 1.25rem;
}

.source {
	border: 1px solid #ddd;
	border-radius: 3px;
	padding: 1.5em;
	word-break: break-all;
}

.callout {
	border-radius: 3px;
	padding: 1rem;
}

figure {
	margin: 1.25em 0;
	page-break-inside: avoid;
}

figcaption {
	opacity: 0.5;
	font-size: 85%;
	margin-top: 0.5em;
}

mark {
	background-color: transparent;
}

.indented {
	padding-left: 1.5em;
}

hr {
	background: transparent;
	display: block;
	width: 100%;
	height: 1px;
	visibility: visible;
	border: none;
	border-bottom: 1px solid rgba(55, 53, 47, 0.09);
}

img {
	max-width: 100%;
}

@media only print {
	img {
		max-height: 100vh;
		object-fit: contain;
	}
}

@page {
	margin: 1in;
}

.collection-content {
	font-size: 0.875rem;
}

.column-list {
	display: flex;
	justify-content: space-between;
}

.column {
	padding: 0 1em;
}

.column:first-child {
	padding-left: 0;
}

.column:last-child {
	padding-right: 0;
}

.table_of_contents-item {
	display: block;
	font-size: 0.875rem;
	line-height: 1.3;
	padding: 0.125rem;
}

.table_of_contents-indent-1 {
	margin-left: 1.5rem;
}

.table_of_contents-indent-2 {
	margin-left: 3rem;
}

.table_of_contents-indent-3 {
	margin-left: 4.5rem;
}

.table_of_contents-link {
	text-decoration: none;
	opacity: 0.7;
	border-bottom: 1px solid rgba(55, 53, 47, 0.18);
}

table,
th,
td {
	border: 1px solid rgba(55, 53, 47, 0.09);
	border-collapse: collapse;
}

table {
	border-left: none;
	border-right: none;
}

th,
td {
	font-weight: normal;
	padding: 0.25em 0.5em;
	line-height: 1.5;
	min-height: 1.5em;
	text-align: left;
}

th {
	color: rgba(55, 53, 47, 0.6);
}

ol,
ul {
	margin: 0;
	margin-block-start: 0.6em;
	margin-block-end: 0.6em;
}

li > ol:first-child,
li > ul:first-child {
	margin-block-start: 0.6em;
}

ul > li {
	list-style: disc;
}

ul.to-do-list {
	padding-inline-start: 0;
}

ul.to-do-list > li {
	list-style: none;
}

.to-do-children-checked {
	text-decoration: line-through;
	opacity: 0.375;
}

ul.toggle > li {
	list-style: none;
}

ul {
	padding-inline-start: 1.7em;
}

ul > li {
	padding-left: 0.1em;
}

ol {
	padding-inline-start: 1.6em;
}

ol > li {
	padding-left: 0.2em;
}

.mono ol {
	padding-inline-start: 2em;
}

.mono ol > li {
	text-indent: -0.4em;
}

.toggle {
	padding-inline-start: 0em;
	list-style-type: none;
}

/* Indent toggle children */
.toggle > li > details {
	padding-left: 1.7em;
}

.toggle > li > details > summary {
	margin-left: -1.1em;
}

.selected-value {
	display: inline-block;
	padding: 0 0.5em;
	background: rgba(206, 205, 202, 0.5);
	border-radius: 3px;
	margin-right: 0.5em;
	margin-top: 0.3em;
	margin-bottom: 0.3em;
	white-space: nowrap;
}

.collection-title {
	display: inline-block;
	margin-right: 1em;
}

.page-description {
    margin-bottom: 2em;
}

.simple-table {
	margin-top: 1em;
	font-size: 0.875rem;
	empty-cells: show;
}
.simple-table td {
	height: 29px;
	min-width: 120px;
}

.simple-table th {
	height: 29px;
	min-width: 120px;
}

.simple-table-header-color {
	background: rgb(247, 246, 243);
	color: black;
}
.simple-table-header {
	font-weight: 500;
}

time {
	opacity: 0.5;
}

.icon {
	display: inline-block;
	max-width: 1.2em;
	max-height: 1.2em;
	text-decoration: none;
	vertical-align: text-bottom;
	margin-right: 0.5em;
}

img.icon {
	border-radius: 3px;
}

.user-icon {
	width: 1.5em;
	height: 1.5em;
	border-radius: 100%;
	margin-right: 0.5rem;
}

.user-icon-inner {
	font-size: 0.8em;
}

.text-icon {
	border: 1px solid #000;
	text-align: center;
}

.page-cover-image {
	display: block;
	object-fit: cover;
	width: 100%;
	max-height: 30vh;
}

.page-header-icon {
	font-size: 3rem;
	margin-bottom: 1rem;
}

.page-header-icon-with-cover {
	margin-top: -0.72em;
	margin-left: 0.07em;
}

.page-header-icon img {
	border-radius: 3px;
}

.link-to-page {
	margin: 1em 0;
	padding: 0;
	border: none;
	font-weight: 500;
}

p > .user {
	opacity: 0.5;
}

td > .user,
td > time {
	white-space: nowrap;
}

input[type="checkbox"] {
	transform: scale(1.5);
	margin-right: 0.6em;
	vertical-align: middle;
}

p {
	margin-top: 0.5em;
	margin-bottom: 0.5em;
}

.image {
	border: none;
	margin: 1.5em 0;
	padding: 0;
	border-radius: 0;
	text-align: center;
}

.code,
code {
	background: rgba(135, 131, 120, 0.15);
	border-radius: 3px;
	padding: 0.2em 0.4em;
	border-radius: 3px;
	font-size: 85%;
	tab-size: 2;
}

code {
	color: #eb5757;
}

.code {
	padding: 1.5em 1em;
}

.code-wrap {
	white-space: pre-wrap;
	word-break: break-all;
}

.code > code {
	background: none;
	padding: 0;
	font-size: 100%;
	color: inherit;
}

blockquote {
	font-size: 1.25em;
	margin: 1em 0;
	padding-left: 1em;
	border-left: 3px solid rgb(55, 53, 47);
}

.bookmark {
	text-decoration: none;
	max-height: 8em;
	padding: 0;
	display: flex;
	width: 100%;
	align-items: stretch;
}

.bookmark-title {
	font-size: 0.85em;
	overflow: hidden;
	text-overflow: ellipsis;
	height: 1.75em;
	white-space: nowrap;
}

.bookmark-text {
	display: flex;
	flex-direction: column;
}

.bookmark-info {
	flex: 4 1 180px;
	padding: 12px 14px 14px;
	display: flex;
	flex-direction: column;
	justify-content: space-between;
}

.bookmark-image {
	width: 33%;
	flex: 1 1 180px;
	display: block;
	position: relative;
	object-fit: cover;
	border-radius: 1px;
}

.bookmark-description {
	color: rgba(55, 53, 47, 0.6);
	font-size: 0.75em;
	overflow: hidden;
	max-height: 4.5em;
	word-break: break-word;
}

.bookmark-href {
	font-size: 0.75em;
	margin-top: 0.25em;
}

.sans { font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; }
.code { font-family: "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; }
.serif { font-family: Lyon-Text, Georgia, ui-serif, serif; }
.mono { font-family: iawriter-mono, Nitti, Menlo, Courier, monospace; }
.pdf .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK JP'; }
.pdf:lang(zh-CN) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC'; }
.pdf:lang(zh-TW) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK TC'; }
.pdf:lang(ko-KR) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK KR'; }
.pdf .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK JP'; }
.pdf:lang(zh-CN) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK SC'; }
.pdf:lang(zh-TW) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK TC'; }
.pdf:lang(ko-KR) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK KR'; }
.pdf .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.highlight-default {
	color: rgba(55, 53, 47, 1);
}
.highlight-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.highlight-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.highlight-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.highlight-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.highlight-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.highlight-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.highlight-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.highlight-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.highlight-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.highlight-gray_background {
	background: rgba(241, 241, 239, 1);
}
.highlight-brown_background {
	background: rgba(244, 238, 238, 1);
}
.highlight-orange_background {
	background: rgba(251, 236, 221, 1);
}
.highlight-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.highlight-teal_background {
	background: rgba(237, 243, 236, 1);
}
.highlight-blue_background {
	background: rgba(231, 243, 248, 1);
}
.highlight-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.highlight-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.highlight-red_background {
	background: rgba(253, 235, 236, 1);
}
.block-color-default {
	color: inherit;
	fill: inherit;
}
.block-color-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.block-color-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.block-color-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.block-color-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.block-color-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.block-color-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.block-color-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.block-color-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.block-color-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.block-color-gray_background {
	background: rgba(241, 241, 239, 1);
}
.block-color-brown_background {
	background: rgba(244, 238, 238, 1);
}
.block-color-orange_background {
	background: rgba(251, 236, 221, 1);
}
.block-color-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.block-color-teal_background {
	background: rgba(237, 243, 236, 1);
}
.block-color-blue_background {
	background: rgba(231, 243, 248, 1);
}
.block-color-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.block-color-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.block-color-red_background {
	background: rgba(253, 235, 236, 1);
}
.select-value-color-uiBlue { background-color: rgba(35, 131, 226, .07); }
.select-value-color-pink { background-color: rgba(245, 224, 233, 1); }
.select-value-color-purple { background-color: rgba(232, 222, 238, 1); }
.select-value-color-green { background-color: rgba(219, 237, 219, 1); }
.select-value-color-gray { background-color: rgba(227, 226, 224, 1); }
.select-value-color-translucentGray { background-color: rgba(255, 255, 255, 0.0375); }
.select-value-color-orange { background-color: rgba(250, 222, 201, 1); }
.select-value-color-brown { background-color: rgba(238, 224, 218, 1); }
.select-value-color-red { background-color: rgba(255, 226, 221, 1); }
.select-value-color-yellow { background-color: rgba(253, 236, 200, 1); }
.select-value-color-blue { background-color: rgba(211, 229, 239, 1); }
.select-value-color-pageGlass { background-color: undefined; }
.select-value-color-washGlass { background-color: undefined; }

.checkbox {
	display: inline-flex;
	vertical-align: text-bottom;
	width: 16;
	height: 16;
	background-size: 16px;
	margin-left: 2px;
	margin-right: 5px;
}

.checkbox-on {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E");
}

.checkbox-off {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E");
}
	
</style></head><body><article id="443d2e3b-536b-4827-a818-eab3f4b5a3a8" class="page sans"><header><div class="page-header-icon undefined"><img class="icon" src="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/BW_Logo.png"/></div><h1 class="page-title">Between Worlds</h1><p class="page-description"></p><table class="properties"><tbody><tr class="property-row property-row-text"><th><span class="icon property-icon"><img src="https://www.notion.so/icons/rocket_gray.svg" style="width:14px;height:14px"/></span>Finished</th><td>Feb 2023</td></tr><tr class="property-row property-row-multi_select"><th><span class="icon property-icon"><img src="https://www.notion.so/icons/gear_gray.svg" style="width:14px;height:14px"/></span>Engine &amp; Language</th><td><span class="selected-value select-value-color-pink">C#</span><span class="selected-value select-value-color-purple">Unity</span></td></tr><tr class="property-row property-row-multi_select"><th><span class="icon property-icon"><img src="https://www.notion.so/icons/briefcase_gray.svg" style="width:14px;height:14px"/></span>Roles</th><td><span class="selected-value select-value-color-blue">Game Dev</span><span class="selected-value select-value-color-blue">Level Design</span><span class="selected-value select-value-color-blue">Tool Dev</span></td></tr><tr class="property-row property-row-multi_select"><th><span class="icon property-icon"><img src="https://www.notion.so/icons/tag_gray.svg" style="width:14px;height:14px"/></span>Tags</th><td><span class="selected-value select-value-color-green">3D</span><span class="selected-value select-value-color-green">Puzzle Game</span><span class="selected-value select-value-color-green">Stealth</span><span class="selected-value select-value-color-yellow">Uni</span></td></tr><tr class="property-row property-row-number"><th><span class="icon property-icon"><img src="https://www.notion.so/icons/groups_gray.svg" style="width:14px;height:14px"/></span>Team Size</th><td>7</td></tr><tr class="property-row property-row-text"><th><span class="icon property-icon"><img src="https://www.notion.so/icons/clock-alternate_gray.svg" style="width:14px;height:14px"/></span>Development Period</th><td>2 Months</td></tr><tr class="property-row property-row-url"><th><span class="icon property-icon"><svg role="graphics-symbol" viewBox="0 0 16 16" style="width:14px;height:14px;display:block;fill:rgba(55, 53, 47, 0.45);flex-shrink:0" class="typesUrl"><path d="M7.69922 10.8945L8.73828 9.84863C7.91797 9.77344 7.34375 9.51367 6.91992 9.08984C5.76465 7.93457 5.76465 6.29395 6.91309 5.14551L9.18262 2.87598C10.3379 1.7207 11.9717 1.7207 13.127 2.87598C14.2891 4.04492 14.2822 5.67188 13.1338 6.82031L11.958 7.99609C12.1768 8.49512 12.2451 9.10352 12.1289 9.62988L14.0908 7.6748C15.7725 6 15.7793 3.62109 14.084 1.92578C12.3887 0.223633 10.0098 0.237305 8.33496 1.91211L5.95605 4.29785C4.28125 5.97266 4.26758 8.35156 5.96289 10.0469C6.36621 10.4434 6.90625 10.7441 7.69922 10.8945ZM8.30078 5.13184L7.26855 6.17773C8.08203 6.25293 8.66309 6.51953 9.08008 6.93652C10.2422 8.09863 10.2422 9.73242 9.08691 10.8809L6.81738 13.1504C5.66211 14.3057 4.03516 14.3057 2.87305 13.1504C1.71094 11.9883 1.71777 10.3545 2.87305 9.20605L4.04199 8.03027C3.83008 7.53125 3.75488 6.92969 3.87109 6.39648L1.91602 8.35156C0.234375 10.0264 0.227539 12.4121 1.92285 14.1074C3.61816 15.8027 5.99707 15.7891 7.67188 14.1143L10.0439 11.7354C11.7256 10.0537 11.7324 7.6748 10.0371 5.98633C9.64062 5.58301 9.10059 5.28223 8.30078 5.13184Z"></path></svg></span>Link</th><td><a href="https://24h7d4w.itch.io/between-worlds" class="url-value">https://24h7d4w.itch.io/between-worlds</a></td></tr></tbody></table></header><div class="page-body"><p id="8251d291-9a37-42af-85cd-3d468a2b7756" class="">‚¨ÖÔ∏è Back to the <a href="../../Portfolio%2096ace5e3bf2a452f8176fc2dc7f16779.html"><span class="icon">üöÄ</span>Portfolio</a></p><ul id="cb0ebc27-c409-4163-abbe-03e17a30712f" class="toggle"><li><details open=""><summary>üß≠ <strong>Quick Links</strong></summary><nav id="d1413dc2-d2b0-4530-abe9-e758609dea0a" class="block-color-gray table_of_contents"><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#5511b92f-261f-42a6-855b-e0c5407019cf">Concept</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#4a510e94-3605-4822-a034-e7df2fd6fe58">Images &amp; Videos</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#f945a288-018f-45d0-97f2-d97850694710">Team</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#4d672bcf-dd0c-49de-8a0d-9f638acd6b57">Contributions</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#77e82f36-2375-4b7a-93bb-1a687ef807c5">Process (Level)</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#0833b43f-e8b0-4709-9b54-8024d4b90f11">Process (Coding)</a></div></nav></details></li></ul><h2 id="5511b92f-261f-42a6-855b-e0c5407019cf" class="block-color-blue_background">Concept</h2><hr id="7f3edee0-bdf1-488e-b089-6212f7a77e60"/><div id="d0805122-13a2-44ae-a7d9-7f02b5791bf3" class="column-list"><div id="c2466c0d-51b1-4923-b772-6ab9a1fc3fb2" style="width:50%" class="column"><figure id="af679f67-fc9a-4f1b-814c-bf07e3bb5a79" class="image"><a href="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/between_worlds_plakat.jpg"><img style="width:2253px" src="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/between_worlds_plakat.jpg"/></a><figcaption>Poster by Teresa (LinkedIn)</figcaption></figure></div><div id="674f7ee4-2175-4fa1-9c94-760dad89ca2f" style="width:50%" class="column"><p id="13492365-c9b3-45fa-ae5a-0a734f507599" class=""><mark class="highlight-blue"><strong>Between Worlds</strong></mark> was made for the course Level Engineering, which focusses on Level Design, 3D UI and Tool Development.</p><p id="4bf00f22-b212-4cc1-8c81-1adbc7063175" class="">It is a 3D Puzzle Game containing Stealth and Jump ‚Äòn‚Äô Run elements.</p><p id="def0e7e4-522f-4699-8cb5-2b68ac066cbc" class="">You are a magic creature created by an evil wizard and trapped in their castle. Your goal is to solve puzzles and eventually escape the castle. To do this, you have to master leveraging the wizard&#x27;s magic orb, that has the ability to switch between worlds, making objects appear and disappear. The orb follows you, but can be laid down and re-summoned. You can also deactivate the orb.</p><p id="7de98446-897e-49ec-81db-e52bb8336359" class="">There are 6 levels in total, namely Laboratory, Library, Garden, Church, Catacombs &amp; Kitchen. Some of them contain guards trying to capture you.<br/>On your way you can collect up to 18 shinies, 3 in each district.<br/></p><p id="fe885ec5-cf44-4c92-bcfa-8360e3d63dca" class="">Each level features its own unique soundtrack composed by Chris Kohler (<a href="https://www.linkedin.com/in/chriskohlermusic/">LinkedIn</a>). To integrate them, we used FMOD.</p><p id="98e83820-229d-43a1-bd0c-913e4d2429b4" class="">We presented this game at the TUM FAR DemoDay in winter 2022 and won in the ‚ÄúBest Technology‚Äù category.</p><p id="6d20517f-d08c-4d70-9855-e3b898fbf471" class="">
</p></div></div><h2 id="4a510e94-3605-4822-a034-e7df2fd6fe58" class="block-color-blue_background">Images &amp; Videos</h2><hr id="1c5d4b76-f690-40d8-89dd-7cefaeca079c"/><div id="79d4ca5f-e1cb-4f0c-bcde-b39293a8cdcf" class="column-list"><div id="f0966585-0191-47a9-90b1-314074ca4a70" style="width:50%" class="column"><figure id="a1d61cd9-43e0-4f9f-a527-7512447f88b0"><div class="source"><a href="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/Between_Wolds.mp4">https://prod-files-secure.s3.us-west-2.amazonaws.com/a4240b8c-e75a-4ada-830c-be4072d6c86a/f1f618d9-f007-4207-a4cd-b3274609a91e/Between_Wolds.mp4</a></div><figcaption>Trailer (sound on :))</figcaption></figure><figure id="94c8e79b-eba3-497d-983a-58cc2c348bc7" class="image"><a href="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/Screenshot_2023-12-14_185408.png"><img style="width:2560px" src="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/Screenshot_2023-12-14_185408.png"/></a></figure><figure id="7632fc6e-ca42-474a-9d6b-db95c01b15c9" class="image"><a href="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/Screenshot_2023-12-14_185836.png"><img style="width:2560px" src="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/Screenshot_2023-12-14_185836.png"/></a></figure><figure id="3dc381c2-85dc-4efe-8531-d33aad66ddd1" class="image"><a href="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/Screenshot_2023-12-14_190655.png"><img style="width:2560px" src="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/Screenshot_2023-12-14_190655.png"/></a></figure></div><div id="2f78835c-31ca-40bf-986f-3da45092ce0a" style="width:50%" class="column"><figure id="fe67b4e1-33fb-40a3-8782-54fe62072ca7" class="image"><a href="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/main_menu_select.png"><img style="width:2560px" src="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/main_menu_select.png"/></a></figure><figure id="28bad354-1105-4160-9128-695187785c92" class="image"><a href="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/Screenshot_2023-12-14_184935.png"><img style="width:2560px" src="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/Screenshot_2023-12-14_184935.png"/></a></figure><figure id="09f27667-e6d3-49ba-9f5d-986c191dd42f" class="image"><a href="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/Screenshot_2023-12-14_185005.png"><img style="width:2560px" src="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/Screenshot_2023-12-14_185005.png"/></a></figure><figure id="c1ed7ba8-5d33-49c6-8ae2-a636d2be1aa1" class="image"><a href="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/Screenshot_2023-12-14_184909.png"><img style="width:2560px" src="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/Screenshot_2023-12-14_184909.png"/></a></figure><p id="7a1cbcaa-5aab-4c5e-b4a1-fc4fb9e02b78" class="">
</p></div></div><h2 id="f945a288-018f-45d0-97f2-d97850694710" class="block-color-blue_background">Team</h2><hr id="e4fa3130-7b12-419a-b5e4-cce0122dd9e8"/><ul id="6689c534-a0e4-4129-b5d2-f7b8f8d55ff0" class="bulleted-list"><li style="list-style-type:disc">Bahy Nguyen: Catacombs level, VFX</li></ul><ul id="bdd69faf-d3e2-43f5-a0f2-178f7b1aa3e9" class="bulleted-list"><li style="list-style-type:disc"><a href="https://chriskohler.net/">Chris Kohler</a>: Composer, SFX</li></ul><ul id="5ab55089-530c-448e-80ab-3fc86b93295f" class="bulleted-list"><li style="list-style-type:disc"><a href="https://jannikwa.simdg.de/">Jannik Waldraff</a>: Library level, player controller</li></ul><ul id="123584a7-7a20-401f-862c-591f5d7dad98" class="bulleted-list"><li style="list-style-type:disc">Kerstin Pfaffinger (me): <a href="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8.html">Laboratory level</a>, <a href="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8.html">puzzle elements</a>, <a href="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8.html">pushable box</a> that reacts to orb, <a href="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8.html">PushBox tool</a></li></ul><ul id="c818e4a5-949c-4049-a038-a09fba949ed9" class="bulleted-list"><li style="list-style-type:disc"><a href="https://www.linkedin.com/in/michael-vynogradov/">Michael Vynogradov</a>: Kitchen level, orb effect (cpu-side), asset replacement tool</li></ul><ul id="147a87ff-fa01-41d3-a960-9255747a85cf" class="bulleted-list"><li style="list-style-type:disc">Michl Bayer: Church level, enemy AI, UI, cam movement tool</li></ul><ul id="626cfb5d-c1c9-4c07-8c39-6b72b363e975" class="bulleted-list"><li style="list-style-type:disc">Sebastian Geheeb: Garden level, orb rail, moving platforms, church creation tool</li></ul><h2 id="4d672bcf-dd0c-49de-8a0d-9f638acd6b57" class="block-color-blue_background">Contributions</h2><hr id="cdbcdd7e-a008-4d18-9f7e-acb1ef3d6776"/><ul id="5ffd30ff-3e3c-4763-a07f-cadb1a1461ad" class="bulleted-list"><li style="list-style-type:disc"><a href="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8.html"><mark class="highlight-blue"><strong>Laboratory Level</strong></mark></a><mark class="highlight-blue"><strong> and </strong></mark><a href="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8.html"><mark class="highlight-blue"><strong>Puzzle Thought Process</strong></mark></a><mark class="highlight-blue"><strong>:</strong></mark> Each team member designed one entire level of Between Worlds. I was responsible for the first one: The Laboratory.</li></ul><ul id="9fab75a5-f35a-4c16-9705-e7c372984d37" class="bulleted-list"><li style="list-style-type:disc"><a href="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8.html"><mark class="highlight-blue"><strong>PushBox</strong></mark></a><mark class="highlight-blue"><strong>:</strong></mark> We had several puzzles asking the player to push boxes on a checkerboard like grid.</li></ul><ul id="82e9419d-edec-4ac0-87ee-544c47eec75a" class="bulleted-list"><li style="list-style-type:disc"><a href="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8.html"><mark class="highlight-blue"><strong>PushBox Tool</strong></mark></a>: Part of the project was to implement a tool helping the other team members. I created a tool that helped turning any asset into a pushable box by adding colliders and components correctly.</li></ul><ul id="9cd61a89-3a47-493f-80b1-084000acdaea" class="bulleted-list"><li style="list-style-type:disc"><a href="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8.html"><strong><mark class="highlight-blue">Puzzle Elements</mark></strong></a><strong><mark class="highlight-blue">:</mark></strong> Other puzzle elements including levers, gears, doors and the telescope. </li></ul><h2 id="77e82f36-2375-4b7a-93bb-1a687ef807c5" class="block-color-blue_background">Process (Level)</h2><hr id="224f7b54-6e72-46f3-a8fd-1a6d1295e119"/><p id="820c6600-286f-4f32-a7d3-b5001a51cff0" class=""><strong><mark class="highlight-blue">Laboratory Level Design</mark></strong></p><p id="712b8509-0ffe-4904-b5be-81bc1909b80c" class="">The team has created a mood board for the entire game, so that we are always on the same page and Chris (the composer) could grasp the mood we were going for:</p><figure id="fc254301-a6bd-4f22-bc17-368749bad8ff" class="image"><a href="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/canvas_moodboard-231212_2025.png"><img style="width:5036px" src="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/canvas_moodboard-231212_2025.png"/></a></figure><p id="c837f009-40c8-4fae-b297-9c2b9853c483" class="">I started by creating yet another mood board for the lab, but this time only for myself to get some ideas and visualize them: </p><figure id="d56e8be2-2082-431a-8679-eac5f071a209" class="image"><a href="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/canvas_magic-lab-mood-board-231212_2101.png"><img style="width:3980px" src="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/canvas_magic-lab-mood-board-231212_2101.png"/></a></figure><p id="05710e45-d5de-45df-82a9-5f3437e7e626" class="">After I had a general idea of what I wanted to go for, I went ahead and made a diagram of the level‚Äôs room layout and a second iterated version:</p><div id="6cc18ff4-25ec-4398-b558-0447d1014fa4" class="column-list"><div id="b2970cbd-de33-474f-8f5e-a42dd39c7423" style="width:50%" class="column"><figure id="979e84e0-8833-4ffa-b947-22442a94c5d6" class="image"><a href="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/Untitled.png"><img style="width:1245px" src="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/Untitled.png"/></a></figure></div><div id="2f7ffe70-686a-4809-a411-8cdd8790967d" style="width:50%" class="column"><figure id="f948db0c-af22-4a99-bb56-7abe0df26892" class="image"><a href="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/Untitled%201.png"><img style="width:1169px" src="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/Untitled%201.png"/></a></figure></div></div><p id="09d40049-21dd-4c1b-a482-73f6596909f9" class="">
</p><p id="197595bc-4885-4aae-aec6-bdcbd25ec357" class="">After that I briefly scribbled down all the ideas I had in my mind so I won‚Äôt forget them:</p><div id="3c6d4c2d-e7d4-45e3-a6aa-0f7918a018ca" class="column-list"><div id="a065f138-dfd8-41bc-8bf2-01994319bf32" style="width:33.33333333333333%" class="column"><figure id="5131a82d-079a-4c6a-b550-da8ec335950f" class="image"><a href="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/Untitled%202.png"><img style="width:288px" src="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/Untitled%202.png"/></a><figcaption>put focus on the orb</figcaption></figure></div><div id="9147a348-d7cc-4cc6-9ed5-574fc8954b1e" style="width:33.33333333333333%" class="column"><figure id="1eb68794-bb80-4823-bf8d-3b18a6f80108" class="image"><a href="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/Untitled%203.png"><img style="width:336px" src="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/Untitled%203.png"/></a><figcaption>scrapped idea as I didn‚Äôt include a planetarium</figcaption></figure></div><div id="e2c49dd4-9178-4f61-af93-0e995c08dd8e" style="width:33.33333333333333%" class="column"><figure id="f58aab50-b438-4953-bbcb-297779a24c30" class="image"><a href="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/Untitled%204.png"><img style="width:685px" src="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/Untitled%204.png"/></a><figcaption>transition to the library level: book shelf moving away</figcaption></figure><figure id="0de4d1c2-e4f0-4b14-80f8-ab689cc47130" class="image"><a href="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/Untitled%205.png"><img style="width:1258px" src="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/Untitled%205.png"/></a></figure></div></div><p id="b51fca42-4bfb-4854-a6d7-64f213dd0b42" class="">As it was the very first level in the game, I wanted it to somewhat introduce the player to the game. That was especially necessary because we didn‚Äôt create a dedicated tutorial for the game. I made a very simple timeline graph of the order I wanted to teach the player the game‚Äôs basic mechanics:</p><figure id="24c733cc-9db0-4e74-8a0c-4eed13924f30" class="image"><a href="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/Untitled%206.png"><img style="width:912px" src="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/Untitled%206.png"/></a></figure><p id="2dc58384-337a-49c0-88fc-42c4b453c426" class="">You can find a detailed description of the execution <a href="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8.html">below</a>.</p><p id="2a7da571-fbec-4e1f-b672-1b966e4109c2" class="">The next step was to create a more detailed map. The main critique on the level blockout I submitted for one of the course‚Äôs assignments was, that it lacked verticality which made it a bit plain and less interesting to look at. So for the lab, I went with 3 floors and drew a map for each of them. I added comments or thoughts about certain elements in blue:</p><figure id="82c16363-05b8-435a-8dfb-afe33911e716" class="image"><a href="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/Untitled%207.png"><img style="width:768px" src="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/Untitled%207.png"/></a></figure><figure id="1e86ae62-c0e2-4af6-827c-e17e72ff7bd8" class="image"><a href="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/Untitled%208.png"><img style="width:912px" src="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/Untitled%208.png"/></a></figure><figure id="251e249e-6798-44a2-b3c8-0dc8117b369f" class="image"><a href="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/Untitled%209.png"><img style="width:912px" src="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/Untitled%209.png"/></a></figure><p id="251999c8-486c-4395-9077-c9d6680d6510" class="">Then I started with the blockout. The team decided on the asset pack we will use and on the dimensions of the player, the orb, doors and so on. I had to re-arrange a lot of things and some ideas simply didn‚Äôt work out as expected, but overall I was pretty happy with the engine version of my level. In 3D I noticed some areas that were too empty and added  decorative items there. I also tried to incorporate the aspects of other student‚Äôs blockouts I liked, most importantly color coding. I highlighted important objects like the orb and used the same color for levers and the objects they influence. In the team, we agreed on colors indicating if the object will <mark class="highlight-blue">disappear </mark>or <mark class="highlight-orange">appear </mark>if the orb is in range.</p><div id="939773c8-c15b-4e65-8ba7-0ac4ec3e5a21" class="column-list"><div id="27123886-7d4b-4521-8ee1-45517f028a67" style="width:33.333333333333336%" class="column"><figure id="37f2037d-b25a-4105-b848-42c168b847f3" class="image"><a href="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/Untitled%2010.png"><img style="width:551px" src="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/Untitled%2010.png"/></a><figcaption>The player will see the orb from their prison cell. If they manage to teleport the orb to them, the cell bars will disappear.</figcaption></figure><p id="316e9fea-048b-46c7-8241-7127baf16ec2" class="">
</p></div><div id="98100941-d7db-44a9-b806-392c49bbeb32" style="width:33.333333333333336%" class="column"><figure id="4c23aa41-fd8f-43c7-a1d9-dbfbe36cbe82" class="image"><a href="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/Untitled%2011.png"><img style="width:544px" src="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/Untitled%2011.png"/></a><figcaption>The telescope will start spinning when the orb is near and be broken if it is away. I ended up making the telescope static because that was too complicated. I added another puzzle in the room.</figcaption></figure></div><div id="06100c0c-013f-4eab-b793-e25347cd3238" style="width:33.33333333333333%" class="column"><figure id="1267d351-0d56-4de2-9a88-ac7272da39b8" class="image"><a href="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/Untitled%2012.png"><img style="width:884px" src="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/Untitled%2012.png"/></a><figcaption>I had this idea in mind from the start. I wanted to have some pipes along the brewing room‚Äôs ceiling. The orb will cause them to break down so that the player can walk up.</figcaption></figure><p id="04059911-6959-4ba9-9867-95a3b82a30d5" class="">
</p></div></div><p id="715fd63c-a47b-4039-839a-896c8c938ea6" class="">After some playtesting, I settled on the final level layout and puzzles. Now it is time to replace the grey boxes with the actual assets. I had some problems with that, because I miscalculate the distances here and there, but I could fix all of them eventually. Time to add more details!</p><p id="87f56593-fbc0-4cd9-8359-8d7aea36e586" class="">Besides the level we had to implement some tool assisting the team during the creation of the game. Jannik made an asset placement tool which I used all the time to add extra details like small rocks or bottles on the floor.</p><p id="b0f2afd9-e5bb-4fbe-a595-8aa02598ae68" class="">After decorating the level, it was time to add ‚Äúsome‚Äù lights so we could later bake the level. Here are some screenshots of the final result:</p><div id="7542634b-0b5f-4d3d-999d-d34e8f74308d" class="column-list"><div id="b95dd149-d32f-46c6-9502-1ac33851d13f" style="width:50%" class="column"><figure id="73588c25-91f4-4d8f-926a-8638e4f72230" class="image"><a href="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/LEVEL.png"><img style="width:2560px" src="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/LEVEL.png"/></a></figure><figure id="25a2f735-f092-44d2-b23d-0741727ea7b4" class="image"><a href="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/LEVEL3.png"><img style="width:2560px" src="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/LEVEL3.png"/></a></figure></div><div id="0b4de97c-f24d-4a7d-a054-e52faf156011" style="width:50%" class="column"><figure id="e5254809-7dd4-4b7e-8f12-a248ff3a1a86" class="image"><a href="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/Screenshot_2023-12-14_184909%201.png"><img style="width:2560px" src="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/Screenshot_2023-12-14_184909%201.png"/></a></figure><figure id="f745fa83-b574-450c-85bd-f6a50698c9e1" class="image"><a href="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/Screenshot_2023-12-14_185005%201.png"><img style="width:2560px" src="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/Screenshot_2023-12-14_185005%201.png"/></a></figure></div></div><p id="72304d57-fd9e-4df4-b1d9-839ac086940c" class="">
</p><p id="dc6329db-117d-4622-9389-e7e45e5c8417" class="">
</p><p id="3e30c614-3aba-497e-8d7b-bd0aa17b8afc" class=""><mark class="highlight-blue"><strong>Level Design Thought Process</strong></mark></p><p id="e53f34db-4733-47ea-9cfb-72756e314dd7" class="">Some explanations on my thought process: As the player should start in prison separated from the orb, I thought that this would be the perfect circumstances for introducing the <strong>reset </strong>mechanic: The player is able to put down the orb and move independently. When clicking a certain button, the orb will teleport back to the player. I put the orb on a stand in an elevated room directly in the player‚Äôs viewing direction (also hit by the only bright light source in the room) so that it will immediately draw the player‚Äôs attention. You can see the map <a href="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8.html">here</a>.</p><figure id="6434af3d-462d-40ee-bea1-2f772e5d1565" class="image"><a href="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/BetweenWorlds.png"><img style="width:672px" src="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/BetweenWorlds.png"/></a></figure><p id="9f330315-a16a-4e08-a075-0039452483ea" class="">The orb is activated by default. That means, as soon as it teleports to the player, the prison bars are in the orb‚Äôs effect range and some of them will be destroyed by the orb. This way, the player is taught that the orb can make some objects disappear. They can now leave the cell and the orb will magically follow them:</p><figure id="9dc717e9-9f24-4bbf-9d7c-3c501e7e5fca" class="image"><a href="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/LEVEL2.png"><img style="width:672px" src="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/LEVEL2.png"/></a></figure><p id="fc653577-a50f-4645-b5b9-32053ea2d566" class="">Ideally, the player would instinctively go to the place the orb came from, because it is directly in the viewing direction and they want to know what the orb is about. In the room there is a big gear which starts to spin as soon as the orb is in range. An arrow occurs, pointing in the direction of the door that was opened by the gear. The arrow is an addition we made later because some players didn‚Äôt find the place to go next, because they didn‚Äôt get what the gear or lever did in the level.</p><figure id="c705de99-56cf-4da9-98c9-b00158114ff7" class="image"><a href="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/LEVEL3%201.png"><img style="width:672px" src="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/LEVEL3%201.png"/></a></figure><p id="e80f1dff-91fe-42d2-a0fa-67a3fd314292" class="">If the player didn‚Äôt go to the orb room and instead play with the puzzle elements spread in the room, they should also know where to go next. So I placed a smaller gear in the test area, directly next to a door that opens as soon as the gear is spinning. Each lever or gear is connected to some objects they manipulate. To visualize which objects are related to them, I placed some crystals in different colors on both the source and the destination of the magic effect.</p><figure id="650f0fa8-b8f7-4436-bbf3-7ccd2b45074f" class="image"><a href="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/Screenshot_2023-12-14_184957.png"><img style="width:672px" src="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/Screenshot_2023-12-14_184957.png"/></a></figure><p id="1c09e354-100f-4a7e-a5ea-2ca73103de3d" class="">Either way, the orb gear will open the doors to the second room: The planetarium. It is connected to the test room by a narrow floor containing some pillars that disappear in the orb‚Äôs range. I made the floor so narrow intentionally, so that the pillars will be in range wherever the orb is, so that the player will notice that pillars get smaller on orb. This knowledge is needed later in the level.</p><figure id="b60323a6-45b3-4a99-945a-947a2abaffd9" class="image"><a href="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/LEVEL4.png"><img style="width:672px" src="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/LEVEL4.png"/></a></figure><p id="fc97c161-6631-4674-85f7-774f4cbab8cd" class="">When entering the planetarium, the player faces another big gear, but this time it is locked away behind some bars. In front of them there is a weird stand with some wind leading behind the bars ending at another stand. The player can put the orb on this <strong><strong><strong><strong>rail</strong></strong></strong></strong> and it will move along the wind stopping at the second stand. In this position it is close enough to the gear to activate it. The player can see that a door in the test room has opened, but suddenly, the door they entered through is blocked by bars so they have to find another way out. But first, they should use their ability to reset the orb, because the can‚Äôt pick it up behind the bars.</p><figure id="efeb99aa-7756-4ede-8342-c41990adba50" class="image"><a href="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/LEVEL5.png"><img style="width:672px" src="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/LEVEL5.png"/></a></figure><p id="f44a031c-bcdf-447b-97cc-2236bc92ab34" class="">When exploring the room further, the player finds the same columns, they‚Äôve found in the narrow floor earlier. They remember, that they can make them smaller using the orb. The columns form a stair leading to the upper part of the room. Here, the player learns how to jump and can jump from column to column using the orb. But suddenly, one of the columns vanishes completely and the player falls down. This is where they are taught that the orb can be switched on and off. Using that new mechanic, the player can make it to the upper balcony.</p><div id="339cb8b2-643f-4ce9-8483-a3d05fa02e45" class="column-list"><div id="52525bae-8315-4c05-8ec7-b77c6b120404" style="width:50%" class="column"><figure id="0083160e-5b43-4df1-ae2e-ca4f5afbb4e7" class="image"><a href="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/Screenshot_2023-12-14_185015.png"><img style="width:2559px" src="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/Screenshot_2023-12-14_185015.png"/></a></figure></div><div id="c23f39fa-2243-47f7-9943-42fc033e251d" style="width:50%" class="column"><figure id="3be6ad55-2205-4eb9-97d4-1ab56759270a" class="image"><a href="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/Screenshot_2023-12-14_185009.png"><img style="width:2560px" src="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/Screenshot_2023-12-14_185009.png"/></a></figure></div></div><p id="3c24c1cf-30e5-4c47-a8b2-443b9a8cccaa" class="">Using these skills, the player is able to solve the upcoming puzzle sections and make it back to the test room and finally enter the door they‚Äôve opened earlier (This section is getting quite long, so I will skip some parts where nothing new is introduced).</p><p id="6ceaae77-5302-498d-8947-32cb2393e680" class="">The door leads to the brewing room which actually has 2 solutions. If the player recognizes, that the air coming from the cauldrons looks similar to the wind carrying the orb towards the gear before, they can skip the level by throwing the orb into the kitchen extractor hood.</p><figure id="9b9d7d46-60df-412e-991e-b531f39f2523" class="image"><a href="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/Screenshot_2023-12-14_184939.png"><img style="width:624px" src="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/Screenshot_2023-12-14_184939.png"/></a></figure><p id="2ad32a43-7e76-409c-a461-770f79b0988a" class="">This is the level featuring the pipes that break down if the orb is near. I placed a pile of pipe tiles on the floor somewhere to give a little hint. The player has to activate a gear which is clearly visible directly above the door it should open. But it is too high for the orb to affect it, so the player has to climb on the pipes to get there.</p><div id="8810e985-7d3e-4d28-a0d7-7a9448e438b7" class="column-list"><div id="d3f61d39-b4bf-4907-9840-3b27d2105e05" style="width:50%" class="column"><figure id="4c5ab12e-7ccd-47a2-8d8a-af11cd30df46" class="image"><a href="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/Screenshot_2023-12-14_185112.png"><img style="width:2560px" src="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/Screenshot_2023-12-14_185112.png"/></a></figure><figure id="b383c91e-77f2-4b1b-a0bc-0f8f5fec8879" class="image"><a href="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/Screenshot_2023-12-14_185214.png"><img style="width:2560px" src="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/Screenshot_2023-12-14_185214.png"/></a></figure></div><div id="bf05b56f-44a6-42de-be9e-a7f8a47894ac" style="width:50%" class="column"><figure id="f1332b9f-8e6b-43a7-8d75-bba079c5cb9f" class="image"><a href="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/Screenshot_2023-12-14_185133.png"><img style="width:2560px" src="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/Screenshot_2023-12-14_185133.png"/></a></figure><p id="9d1d0e8c-dca9-44e2-81c0-0f286a07baa8" class="">
</p></div></div><p id="53a9828e-4d03-4813-8186-364584a946c3" class="">The next room is the tinkering cellar containing lots of levers, one of them opening the book shelf leading into the library. The cellar‚Äôs main purpose is to tell a little story about the wizard building all the levers and doors, painting the crystals and testing his inventions. I made the secret door a bookshelf because it is the stereotype of a secret exit and also transitions nicely into the upcoming level which is filled to the brim with books and bookshelves.</p><div id="fc87ce6c-aabf-483d-b58b-8a1ccd8296b4" class="column-list"><div id="7d47b3a4-6e5b-4fc3-b3e6-12a9c7baf322" style="width:50%" class="column"><figure id="f25f4c66-39e9-4479-9953-2af4c8a64c71" class="image"><a href="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/Screenshot_2023-12-14_185242.png"><img style="width:2560px" src="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/Screenshot_2023-12-14_185242.png"/></a></figure></div><div id="2ff05e87-a2bb-49e8-ae1b-54acccf6fba8" style="width:50%" class="column"><figure id="6ac71776-f27a-4f97-a6c2-8a937217e4db" class="image"><a href="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/Screenshot_2023-12-14_185324.png"><img style="width:2560px" src="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/Screenshot_2023-12-14_185324.png"/></a></figure></div></div><p id="96519174-de4d-4cd1-ab61-81b0580576c0" class="">
</p><h2 id="0833b43f-e8b0-4709-9b54-8024d4b90f11" class="block-color-blue_background">Process (Coding)</h2><hr id="18217154-fa0c-4eb6-869c-26431d8073e1"/><p id="c8e42c21-22cc-4212-a8c1-3a9cdd58c0ee" class="">‚Üí back to <a href="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8.html">Contributions</a></p><p id="c23cbf68-a268-4fa9-943e-ac1b5aec821b" class=""><mark class="highlight-blue"><strong>PushBox with Orb Effect</strong></mark></p><p id="6e3f4b52-ac9f-42da-bf4c-76dab940bd62" class="">We wanted to have a pushable box in the game. When the player runs into it, it should move magically for a set distance on a checkerboard like grid. The ‚Äúbox‚Äù could actually be any asset we have in the game, so it had to be quite flexible. I will keep calling it ‚Äúbox‚Äù for simplicity.</p><figure id="d28ab04b-bfde-4cec-85d5-47828a450e42" class="image"><a href="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/Untitled%2013.png"><img style="width:288px" src="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/Untitled%2013.png"/></a></figure><p id="204550a7-4d5f-450a-88f6-bfdc1b3c387d" class="">I really struggled with implementing this at the beginning and went through multiple approaches that didn&#x27;t work out or were not as easy to code as I thought.</p><p id="33993e42-4d3e-4693-9f18-8b45c0da2720" class="">I can&#x27;t remember all of them exactly, but the first one was to lay out the area the box can be pushed on with some kind of floor tiles and forcing the box to stay on that predefined space. That would have allowed for having arbitrary and concave push areas. The problem with this was that I would need to check if the next state was valid before applying any movement to the box. It didn&#x27;t quite work out with the box‚Äô animation also.</p><p id="6ce88827-e646-4430-bea4-598618e88ee9" class="">So this was definitely too complicated. In the next weekly team meeting, I asked the others what they would use the push box for so I could note the exact requirements. I figured that noone planned to use a concave area for the push box, so it would suffice if the box could move in some rectangular space. That simplified the problem a lot.</p><p id="6584652b-f8f5-4c92-9d47-2ac6cea8a95a" class="">The first idea when thinking about a rectangular space was to use a 2D array. I made it a <code>boolean[]</code> so I could also create tiles that cannot be pushed onto. Within the 2D Array class I wrote methods converting the box position into a local position in the 2D grid. In some edge cases the box again managed to leave the pushable area and I wanted a more robust implementation. Moreover, the array came with some limitations regarding how far the box could be pushed. The biggest problem I had with this approach, however, was that we wanted to have a clear indication where the border of the pushable area was. With the array, the real border was not connected to the push limits I defined in code. This could lead to potential confusions for the player, e.g. if the box stopped slightly before the physical border.  </p><p id="cfd0d883-e7ea-4efd-9a77-a669452fd933" class="">The goal of the next approach was to connect the physical border object to the code. The solution I came up with eventually used several scripts to achieve this, namely <code>DirectionalCollider.cs</code>, <code>DirectionalBoxCollider.cs</code>, <code>PushBox.cs</code> and <code>Directions.cs</code>.</p><p id="34d87190-5370-47c9-b5ef-bcc08a42b4f3" class=""><code>Directions.cs</code> contains an enum for the 4 directions the box can be pushed in together with a class providing some conversion and access methods working on the directions.</p><ul id="fc62febe-eacd-4593-a6ff-555536bda3a3" class="toggle"><li><details open=""><summary><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em>[Script] </em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em>Directions.cs</summary><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="f7f69c8a-d5d7-4596-bfa9-2cd998a5e0ec" class="code"><code class="language-C#">public enum Direction
{
    PositiveX,
    NegativeX,
    PositiveZ,
    NegativeZ
}

public static class DirectionConverter
{
    private const string ScriptName = &quot;DirectionConverter&quot;;

    private static readonly Vector2 XPositive = new(1, 0);
    private static readonly Vector2 XNegative = new(-1, 0);
    private static readonly Vector2 ZPositive = new(0, 1);
    private static readonly Vector2 ZNegative = new(0, -1);

    private static readonly Dictionary&lt;Direction, Vector2&gt; EnumToVec2 = new()
    {
        {Direction.PositiveX, XPositive},
        {Direction.NegativeX, XNegative},
        {Direction.PositiveZ, ZPositive},
        {Direction.NegativeZ, ZNegative}
    };

    private static readonly Dictionary&lt;Vector2, Direction&gt; Vec2ToEnum = new()
    {
        {XPositive, Direction.PositiveX},
        {XNegative, Direction.NegativeX},
        {ZPositive, Direction.PositiveZ},
        {ZNegative, Direction.NegativeZ}
    };

    public static Direction ConvertVec2ToEnum(Vector2 dir)
    {
        return Vec2ToEnum[dir];
    }

    public static Vector2 ConvertEnumToVec2(Direction dir)
    {
        return EnumToVec2[dir];
    }

    public static Vector3 ConvertEnumToVec3(Direction dir)
    {
        var vec2Dir = ConvertEnumToVec2(dir);
        var result = new Vector3(vec2Dir.x, 0, vec2Dir.y);
        return result;
    }

    public static Direction ConvertVec3ToEnum(Vector3 dir)
    {
        var vec2Dir = new Vector2(dir.x, dir.z);
        var result = ConvertVec2ToEnum(vec2Dir);
        return result;
    }

    public static Direction NegateDirection(Direction direction)
    {
        return direction switch
        {
            Direction.PositiveX =&gt; Direction.NegativeX,
            Direction.NegativeX =&gt; Direction.PositiveX,
            Direction.PositiveZ =&gt; Direction.NegativeZ,
            Direction.NegativeZ =&gt; Direction.PositiveZ,
            _ =&gt; throw new ArgumentOutOfRangeException(nameof(direction), direction, &quot;Direction doesn&#x27;t exist!&quot;)
        };
    }
}</code></pre></details></li></ul><p id="cb5011aa-ba87-4061-bd98-00f4c0ce005e" class="">The box is equipped with 4 cuboid trigger colliders, being <code>DirectionalBoxColliders.cs</code>, each on one face of the box like this:</p><figure id="ca973dca-59c5-41c2-ab65-9eb64a8e1314" class="image"><a href="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/Untitled%2014.png"><img style="width:240px" src="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/Untitled%2014.png"/></a></figure><p id="214a5447-31c7-48fa-8903-c6e8348be312" class="">They inherit from the more general <code>DirectionalCollider.cs</code> class. It stores a direction and communicates any collisions with a <code>PushBox.cs</code> to it. A PushBox is normally surrounded by a border, limiting the box‚Äô movement. These borders have <code>DirectionalColliders.cs</code> attached to them, similar to the faces of the actual box:</p><figure id="01fbc1eb-f852-495f-8695-49395b7df3b6" class="image"><a href="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/Untitled%2015.png"><img style="width:384px" src="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/Untitled%2015.png"/></a></figure><p id="ac467b35-2db0-40a5-9b4a-be12ab47dff4" class="">So, if a box with the <code>PushBox.cs</code> component enters any <code>DirectionalCollider.cs</code>, the direction of the collider is locked in the box. Meaning, when I enter a collider with <code>PositiveX</code>, the box cannot move into positive x anymore. It has to be pushed out from another direction. The elegant thing here is, that due to <code>DirectionalBoxCollider.cs</code> inheriting from <code>DirectionalCollider.cs</code>, boxes are also blocked by other boxes. So you can several boxes in the same area. Of course, you can also leave out the border and push the box around freely.</p><ul id="0e93b663-e20f-49fc-8005-e07be321619f" class="toggle"><li><details open=""><summary><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em>[Script] </em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em>DirectionalCollider.cs</summary><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="c3f27c41-876d-4fe5-9a77-096740ec61c9" class="code"><code class="language-C#">public class DirectionalCollider : MonoBehaviour
{
    public Direction direction;

    protected void OnTriggerEnter(Collider other)
    {
        HandleBox(other, true);
    }

    protected void OnTriggerExit(Collider other)
    {
        HandleBox(other, false);
    }

    private void HandleBox(Collider other, bool enter)
    {
				// IsBox() is an extension methods checking if the object has the box tag
        if (!other.IsBox()) return;

        var box = other.GetComponent&lt;PushBox&gt;();

        if (enter) box.LockDir(direction);
        else box.UnlockDir(direction);
    }
}</code></pre></details></li></ul><p id="f8c87d44-befe-4e1c-b7e6-2eab64587a5d" class="">The <code>DirectionalBoxCollider</code>&#x27;s additionally need to push the box in the correct direction if the player runs into it. There are several things to consider here, so I started by defining some rules that have to be fulfilled in order to push the box:</p><ul id="207e772d-97e9-4f0d-942a-2cf9a9827889" class="bulleted-list"><li style="list-style-type:disc">Only the player can push the box.</li></ul><ul id="850065bc-5939-47f8-a262-bcee11d92c10" class="bulleted-list"><li style="list-style-type:disc">The player has to be grounded.</li></ul><ul id="36d8f9c8-2d97-4b23-a179-ceade5223831" class="bulleted-list"><li style="list-style-type:disc">The player has to move towards the box. So running orthogonally to the box won‚Äôt push it.</li></ul><ul id="854818bf-8791-437c-8cfa-a14aa59b46a9" class="bulleted-list"><li style="list-style-type:disc">The box can move in the desired direction, i.e. the direction isn‚Äôt locked.</li></ul><p id="1a2e40a4-bad2-4df8-9b5b-41b9320ec98c" class="">Then I converted these rules into <code>if</code> conditions within <code>OnTriggerStay()</code>:</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="343b3592-e668-4705-ae7a-63fdd1ccae30" class="code"><code class="language-C#">// HasPlayerTag() is extension method checking if the object has the player tag
if (!other.HasPlayerTag()) return;

// prevents player from pushing box when attempting to jump on it
if (!PlayerIsGrounded(other)) return;</code></pre><p id="255be10e-b4b3-412b-ae3c-ad0bb4a99a55" class="">To check for the correct direction, I had to snap the player‚Äôs movement direction (i.e. the forward vector) to the global coordinate axes. To achieve such a mapping, I checked whether the x or z coordinate was greater and normalized the resulting vector.</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="8a630994-143a-47cb-b4ee-4bf1b0f0ef5d" class="code"><code class="language-C#">Vector3 playerForward = GetMoveDirection(other);
Vector3 normalizedDir = SnapToAxes(playerForward);

// Reminder: Direction is an enum for encoding the 4 directions (positive X, negative X, positive Z and negative Z)
Direction dir = DirectionConverter.ConvertVec3ToEnum(normalizedDir);
if (!IsCorrectDirection(dir)) return;</code></pre><p id="865b4668-61fd-4c3c-86f8-c6e68cf6db2f" class="">If all the conditions were met, I tell the box to move in the desired direction.</p><ul id="10dd94dc-7563-42e4-bc77-48f02e6155a8" class="toggle"><li><details open=""><summary><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em>[Script] </em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em>DirectionalBoxCollider.cs</summary><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="b3398d06-e38e-44d8-954d-21019530c04e" class="code"><code class="language-C#">public class DirectionalBoxCollider : DirectionalCollider
{
    private PushBox _pushBox;

    private void Start()
    {
        _pushBox = transform.GetComponentInParent&lt;PushBox&gt;();
    }


    private void OnTriggerStay(Collider other)
    {
        // HasPlayerTag() is Extension Method
        if (!other.HasPlayerTag()) return;
        
        // prevents player from pushing box when attempting to jump on it
        if (!PlayerIsGrounded(other)) return;

        Vector3 playerForward = GetMoveDirection(other);
        Vector3 normalizedDir = SnapToAxes(playerForward);
        Direction dir = DirectionConverter.ConvertVec3ToEnum(normalizedDir);
        if (!IsCorrectDirection(dir)) return;

        _pushBox.Push(dir);
    }


    #region Helpers

    private bool PlayerIsGrounded(Collider player)
    {
        ThirdPersonController controller = player.GetComponent&lt;ThirdPersonController&gt;();
        return controller.Grounded;
    }


    private Vector3 GetMoveDirection(Component other)
    {
        return other.transform.forward;
    }

    private Vector3 SnapToAxes(Vector3 dir)
    {
        // Normalize and Clear are Extension Methods (clear sets value to 0, normalize to +/-1)

        Vector3 snapped = dir.ClearY();

        if (snapped.XIsGreaterThanZ())
        {
            snapped = snapped.NormalizeX().ClearZ();
        }
        else
        {
            snapped = snapped.ClearX().NormalizeZ();
        }

        return snapped;
    }

    private bool IsCorrectDirection(Direction dir)
    {
        // direction is variable in super class (DirectionalCollider)
        return dir == direction;
    }

    #endregion
}</code></pre></details></li></ul><p id="13dab967-37ce-4e54-a5b9-90b46b20fa77" class="">Now to the box implementation. Locking any direction was handled using a <code>Dictonary&lt;Direction, bool&gt;</code> containing all 4 directions and storing whether they are locked or not. <code>true</code> means locked. The pushing animation was done by a coroutine and <code>MoveTowards</code>. To avoid pushing too far in case the player stays in the trigger while the box moves, I check if a coroutine is still running and only start a new animation if not.</p><p id="201026c0-c9bc-46da-b356-352d505c2bed" class="">Later, we introduced an additional requirement for the box. We wanted to build puzzles with differently sized pillars, so the player had to create themselves a staircase by moving these pillars. For the sake of realism, the player should only be able to push small pillars. For the higher ones, the player would need to bring the orb to the pillar to swap it with a smaller version. Here is an example:</p><figure id="bab6870f-3579-4f24-9211-905517164a4f" class="image"><a href="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/LEVEL4%201.png"><img style="width:672px" src="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/LEVEL4%201.png"/></a></figure><p id="4647bcb2-2ffe-4366-b99a-d52013ac5cec" class="">That meant that only the smaller version of the pillar should be a <code>PushBox</code> and the bigger one needed to follow it when the box is pushed. So I created a <code>variant</code> variable for the <code>PushBox</code> that is optional. If it is set, the PushBox will apply the same movement transformation to both itself and its variant.</p><p id="4f8c5e02-ab52-44d6-a1f2-ee4f6b5b11f7" class="">The orb effect is implemented so that objects that disappear when in range will be deactivated as long as the orb is near. This means the colliders are also only triggered when the box is active.</p><p id="6d64109a-6c41-4d38-acef-710c66c85039" class="">Here is the full script (I removed sound effects for simplicity):</p><ul id="3975ca28-95b7-4e8f-ab73-fda8fffbeb43" class="toggle"><li><details open=""><summary><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em>[Script] </em></em></em></em></em></em></em></em></em></em></em></em></em></em></em>PushBox.cs</summary><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="c996a052-0435-4df2-8033-f2e8be75f117" class="code"><code class="language-C#">public class PushBox : MonoBehaviour
{
    [Header(&quot;Orb Effect&quot;)]
    // unpushable object. Gets disabled by orb, but position is kept consistent.
    public GameObject variant;

    [Header(&quot;Move Effect&quot;)]
		[SerializeField] private float pushFactor = 1;
    [SerializeField] private float interpolationSpeed = 0.05f;

    private readonly Dictionary&lt;Direction, bool&gt; _locked = new()
    {
        {Direction.PositiveX, false},
        {Direction.NegativeX, false},
        {Direction.PositiveZ, false},
        {Direction.NegativeZ, false}
    };

    private bool _isCoroutineRunning;
    private bool _hasVariant;


    private void Start()
    {
        _hasVariant = variant != null;
        _audioFmod = GetComponent&lt;PlayAudioFMOD&gt;();
    }


    #region Lock &amp; Unlock

    public void LockDir(Direction dir)
    {
        _locked[dir] = true;
    }

    public void UnlockDir(Direction dir)
    {
        _locked[dir] = false;
    }

    private bool DirectionIsLocked(Direction dir)
    {
        return _locked[dir];
    }

    #endregion


    #region Push

    public void Push(Direction dir)
    {
        if (_isCoroutineRunning) return;
        if (DirectionIsLocked(dir)) return;

        var dirAsVec3 = DirectionConverter.ConvertEnumToVec3(dir);
        var posChange = dirAsVec3 * pushFactor;

        StartCoroutine(Lerp(posChange, dir));
    }

    private IEnumerator Lerp(Vector3 posChange, Direction dir)
    {
        _isCoroutineRunning = true;

        Vector3 endPos = GetEndPos(transform, posChange);
        Vector3 variantEndPos = GetEndPosIfVariantExists(posChange, endPos);

        while (transform.position != endPos)
        {
            if (DirectionIsLocked(dir)) break;

            MoveObject(transform, endPos);
            MoveVariantIfExists(variantEndPos);

            yield return new WaitForFixedUpdate();
        }

        _isCoroutineRunning = false;
    }

    private Vector3 GetEndPos(Transform obj, Vector3 posChange)
    {
        return obj.position + posChange;
    }

    private Vector3 GetEndPosIfVariantExists(Vector3 posChange, Vector3 defaultValue)
    {
        return _hasVariant ? GetEndPos(variant.transform, posChange) : defaultValue;
    }

    private void MoveObject(Transform obj, Vector3 endPos)
    {
        obj.position = Vector3.MoveTowards(obj.position, endPos, interpolationSpeed);
    }

    private void MoveVariantIfExists(Vector3 endPos)
    {
        if (!_hasVariant) return;
        MoveObject(variant.transform, endPos);
    }

    #endregion
}</code></pre></details></li></ul><p id="4475cd72-297c-4ec0-b20c-810f774e9664" class="">
</p><p id="32e54202-7937-4dec-bc60-486cb5c230e3" class="">
</p><p id="496a9d9a-3a53-4245-bcaf-45972edb527c" class=""><mark class="highlight-blue"><strong>PushBox Tool</strong></mark></p><p id="35c658e6-7b26-44ca-b057-ba3c471404d8" class="">We wanted to be able to convert any asset into a pushable box, so I automated the process of adding the correct scripts and child objects to the box object as well as creating the border by writing a custom editor window in Unity. The window looks like this:</p><div id="19ec6e64-a84b-4d83-9408-1ae2e70406ea" class="column-list"><div id="2eeb8ea4-f61f-464d-b5f1-5a75eec6f522" style="width:37.5%" class="column"><figure id="5aa6e14f-7ecd-4025-8e6c-c59b75961597" class="image"><a href="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/Untitled%2016.png"><img style="width:384px" src="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/Untitled%2016.png"/></a></figure></div><div id="1975a43f-d5b6-4a45-a548-a898bd67a280" style="width:62.5%" class="column"><ul id="40a26cdf-7b0d-4a4f-b2e9-6af6e548e5c6" class="bulleted-list"><li style="list-style-type:disc"><code>BoxName</code> is simply the name of the game object that will be created. The tool will add ‚ÄúPushable‚Äù as a prefix to it.</li></ul><ul id="8f9db0f6-9253-4325-b0a2-7e12aa29fc4a" class="bulleted-list"><li style="list-style-type:disc"><code>Asset</code> is the asset you want to turn into a pushable object.</li></ul><ul id="efa4fbde-cd71-47fa-928f-95f38f2cf6f8" class="bulleted-list"><li style="list-style-type:disc"><code>ShowColliders</code> will add a semi-transparent material to all colliders which makes it easier to see where to push the box. The colliders are hidden in play mode. The <code>material</code> can also be changed.</li></ul><ul id="f26b6e8f-02d7-43e7-a674-2cc23677ab1c" class="bulleted-list"><li style="list-style-type:disc"><code>AddBorder</code> can be ticked to, well, add a border to the box. You can then set the border sizes. The tool will display an error if the selected asset won‚Äôt fit in the area within the borders.</li></ul><ul id="8e7d9605-7add-46c3-b4d1-5917d31df4e7" class="bulleted-list"><li style="list-style-type:disc">If <code>AddFloor</code> is checked, the tool will add the checkerboard floor pattern to the push area and aligns it correctly.</li></ul><ul id="753954f5-e63c-43b6-96d3-24f86abfcb61" class="bulleted-list"><li style="list-style-type:disc">Hit <code>Create</code> to create a new pushable game object ready to use in the game.</li></ul><p id="d3851411-ab5e-4e72-8abb-249e5c7e13a2" class="">
</p></div></div><p id="5abed4fc-0643-4a07-b2b2-121a3b055130" class="">Here is an example of I turning a bookshelf into a pushable object:</p><figure id="72709958-9d4c-42b6-ace7-2f572b54e99a"><div class="source"><a href="Between%20Worlds%20443d2e3b536b4827a818eab3f4b5a3a8/LEcollider.mp4">https://prod-files-secure.s3.us-west-2.amazonaws.com/a4240b8c-e75a-4ada-830c-be4072d6c86a/1f5b7bee-59f6-404e-958e-b98c32357a7e/LEcollider.mp4</a></div></figure><p id="cf374ed4-38cd-4bbc-bf9b-3659963bd501" class="">For the tool, I let my class extend <code>EditorWindow</code> and used the <code>OnGUI()</code> method to display the window content. For the border section I used a toggle group because I wanted the user to only be able to enter scales if they actually want a border.</p><p id="d2dbc1bc-a510-41d0-b2c6-7de9a7b77bd2" class="">As soon as the user hits the <code>Create</code> button, I start the construction of the pushable object.</p><ul id="41958200-1959-4d46-9bd8-5f2587fd3380" class="toggle"><li><details open=""><summary><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em>[Script] </em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em>Main Window Methods<em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em> </em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em>(shortened)</summary><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="a61cee86-36a7-4d32-8459-8e8febf52e2f" class="code"><code class="language-C#">// Variables 
// [...]

[MenuItem(&quot;Tools/PushBox Tool&quot;)]
public static void ShowWindow()
{
    GetWindow&lt;PushBoxConfigurator&gt;(&quot;PushBox Configurator&quot;);
}

private void OnGUI()
{
		// these assign default values for collider material and floor as they need to be assigned
    AssignDefaultFloor();
    AssignDefaultMaterial();

		/// WINDOW CONTENTS

    GUILayout.Label(&quot;Pushable&quot;, EditorStyles.boldLabel);
    _boxName = EditorGUILayout.TextField(&quot;BoxName&quot;, _boxName);
    _asset = (GameObject) EditorGUILayout.ObjectField(&quot;Asset&quot;, _asset, typeof(GameObject), true);


    GUILayout.Space(_spacePixels);
    GUILayout.Label(&quot;Border&quot;, EditorStyles.boldLabel);


    GUILayout.Space(_spacePixels);
    _showCollider = EditorGUILayout.BeginToggleGroup(&quot;Show Colliders&quot;, _showCollider);
    _material = (Material) EditorGUILayout.ObjectField(&quot;Material&quot;, _material, typeof(Material), false);
    EditorGUILayout.EndToggleGroup();


    _addBorder = EditorGUILayout.BeginToggleGroup(&quot;Add Border&quot;, _addBorder);
    _borderScaleX = EditorGUILayout.FloatField(&quot;BorderScaleX&quot;, _borderScaleX);
    _borderScaleZ = EditorGUILayout.FloatField(&quot;BorderScaleZ&quot;, _borderScaleZ);
    EditorGUILayout.EndToggleGroup();


    GUILayout.Space(_spacePixels);
    _addFloor = EditorGUILayout.BeginToggleGroup(&quot;Add Floor&quot;, _addFloor);
    EditorGUILayout.HelpBox(&quot;Floors are only generated with borders&quot;, MessageType.Info);
    EditorGUILayout.EndToggleGroup();

    GUILayout.Space(_spacePixels);

    // Detect Button Click
    if (GUILayout.Button(&quot;Create&quot;)) CreateBoxAndBorder();
}

// additional methods
// [...]</code></pre></details></li></ul><p id="2624ef74-4657-4412-b4eb-e392b653bbb8" class="">The <code>CreateBoxAndBorder()</code> method then calculates (among others) the box collider sizes and their positions,  the position and colliders for the border, how many floor tiles need to be created and what the best layout of them is. The script essentially retrieves the exact size of the object using <code>bounds</code> to size the colliders and to compute their offset relative to their parent. Similarly for the border colliders. It then assigns the correct components to all the objects and selects the correct sound files. I will spare you the details here, but if you really want to see the whole script I will paste it here:</p><ul id="0c488f5a-3624-4799-8d85-ee3d5186d391" class="toggle"><li><details open=""><summary><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em>[Script]</em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em> PushBoxConfigurator.cs</summary><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="04c97588-ea24-4d15-9f4a-134c03ad0f11" class="code"><code class="language-C#">using System;
using FMODUnity;
using ModestTree;
using UnityEditor;
using UnityEngine;

namespace Features__Scripts_.PuzzleLogic.PushBox.Editor
{
    public class PushBoxConfigurator : EditorWindow
    {
        #region Variables

        private const string ScriptName = &quot;Tool&quot;;

        private string _boxName = &quot;Box&quot;;
        private GameObject _asset;
        private GameObject _assetParent;

        private bool _addBorder;
        [Min(0)] private float _borderScaleX;
        [Min(0)] private float _borderScaleZ;

        private bool _showCollider;
        private Material _material;

        private bool _addFloor;
        private GameObject _floor;

        private readonly string _boxPrefix = &quot;Pushable&quot;;
        private readonly string _borderPrefix = &quot;BorderFor&quot;;
        private string _combinedBoxName = &quot;&quot;;
        private string _sfxPath = &quot;event:/SFX/RockPush&quot;;

        private Vector3 _xScaled;
        private Vector3 _zScaled;

        private Bounds _boxBounds;
        private Vector3 _assetPos;

        //was 0.5 but then push boxes affected by orb cause problems
        private readonly float _colliderOffset = 0.06f;

        private readonly float _borderHeight = 0.3f;
        private readonly float _borderWidth = 0.5f;
        private readonly float _borderColliderWidth = 0.04f;
        private float _borderGlobalY;

        private Bounds _floorBounds;
        private int _id;

        private readonly int _groundLayerIndex = 6;

        private readonly int _spacePixels = 10;

        #endregion

        #region WindowFunctions

        [MenuItem(&quot;Tools/PushBox Tool&quot;)]
        public static void ShowWindow()
        {
            GetWindow&lt;PushBoxConfigurator&gt;(&quot;PushBox Configurator&quot;);
        }

        private void OnGUI()
        {
            AssignDefaultFloor();
            AssignDefaultMaterial();


            GUILayout.Label(&quot;Pushable&quot;, EditorStyles.boldLabel);
            _boxName = EditorGUILayout.TextField(&quot;BoxName&quot;, _boxName);
            _asset = (GameObject) EditorGUILayout.ObjectField(
                &quot;Asset&quot;, _asset, typeof(GameObject), true);


            GUILayout.Space(_spacePixels);
            GUILayout.Label(&quot;Border&quot;, EditorStyles.boldLabel);


            GUILayout.Space(_spacePixels);
            _showCollider = EditorGUILayout.BeginToggleGroup(&quot;Show Colliders&quot;, _showCollider);
            _material = (Material) EditorGUILayout.ObjectField(
                &quot;Material&quot;, _material, typeof(Material), false);
            EditorGUILayout.EndToggleGroup();


            _addBorder = EditorGUILayout.BeginToggleGroup(&quot;Add Border&quot;, _addBorder);
            _borderScaleX = EditorGUILayout.FloatField(&quot;BorderScaleX&quot;, _borderScaleX);
            _borderScaleZ = EditorGUILayout.FloatField(&quot;BorderScaleZ&quot;, _borderScaleZ);
            EditorGUILayout.EndToggleGroup();


            GUILayout.Space(_spacePixels);
            _addFloor = EditorGUILayout.BeginToggleGroup(&quot;Add Floor&quot;, _addFloor);
            EditorGUILayout.HelpBox(&quot;Floors are only generated with borders&quot;, MessageType.Info);
            EditorGUILayout.EndToggleGroup();


            GUILayout.Space(_spacePixels);

            // Detect Button Click
            if (GUILayout.Button(&quot;Create&quot;))
            {
                ResetId();
                CreateBoxAndBorder();
            }
        }

        private void ResetId()
        {
            _id = 0;
        }


        // method called when clicking the button
        private void CreateBoxAndBorder()
        {
            SetScales();
            InitAssetPos();

            ConstructBox();

            if (!_addBorder) return;
            ConstructBorder();

            if (!_addFloor) return;
            AddFloor();
        }

        #endregion

        #region Box

        private void ConstructBox()
        {
            // instantiate prefabs first, then assign box
            var box = ObjectIsNotInScene(_asset) ? Instantiate(_asset) : _asset;
            UnpackIfPrefab(box);

            box.name = ConstructBoxName();
            box.tag = Variables.BoxTag;

            AddPushBoxScriptTo(box);
            AddRigidbodyTo(box);
            AddSoundScriptTo(box);

            AddDirectionalColliderObjectsTo(box);
        }

        private void UnpackIfPrefab(GameObject gameObject)
        {
            if (PrefabUtility.IsPartOfAnyPrefab(gameObject))
            {
                PrefabUtility.UnpackPrefabInstance(
                    gameObject, PrefabUnpackMode.Completely, InteractionMode.AutomatedAction);
            }
        }

        #endregion

        #region Border

        private void ConstructBorder()
        {
            if (!BoxFitsInBorder())
            {
                Util.Error(ScriptName, &quot;Border is too small for box!&quot;);
                return;
            }

            GameObject emptyParent = new GameObject
            {
                name = ConstructBorderName(),
                transform =
                {
                    position = new Vector3(_assetPos.x, _assetPos.y + .25f, _assetPos.z)
                }
            };

            var parentTransform = emptyParent.transform;

            CreateBorderPart(Direction.PositiveX, parentTransform);
            CreateBorderPart(Direction.NegativeX, parentTransform);
            CreateBorderPart(Direction.PositiveZ, parentTransform);
            CreateBorderPart(Direction.NegativeZ, parentTransform);
        }

        #endregion

        #region AddComponents

        private void AddPushBoxScriptTo(GameObject gameObject)
        {
            if (!gameObject.TryGetComponent&lt;PushBox&gt;(out _))
            {
                gameObject.AddComponent&lt;PushBox&gt;();
            }
        }

        private void AddRigidbodyTo(GameObject gameObject)
        {
            Rigidbody rb = gameObject.TryGetComponent(out Rigidbody existing)
                ? existing
                : gameObject.AddComponent&lt;Rigidbody&gt;();

            rb.useGravity = false;
            rb.isKinematic = true;
        }

        private void AddBoxColliderTo(GameObject gameObject)
        {
            BoxCollider boxCollider = gameObject.TryGetComponent(out BoxCollider existing)
                ? existing
                : gameObject.AddComponent&lt;BoxCollider&gt;();

            boxCollider.isTrigger = true;
        }

        private void AddDirectionalColliderObjectsTo(GameObject box)
        {
            CreateDirectionalBoxCollider(Direction.PositiveX, box);
            CreateDirectionalBoxCollider(Direction.NegativeX, box);
            CreateDirectionalBoxCollider(Direction.PositiveZ, box);
            CreateDirectionalBoxCollider(Direction.NegativeZ, box);
        }

        private void AddDirectionalBoxColliderScriptTo(GameObject gameObject, Direction direction)
        {
            DirectionalBoxCollider directionalBoxCollider = gameObject.AddComponent&lt;DirectionalBoxCollider&gt;();
            directionalBoxCollider.direction = direction;
        }

        private void AddDirectionalColliderScriptTo(GameObject gameObject, Direction direction)
        {
            DirectionalCollider directionalCollider = gameObject.AddComponent&lt;DirectionalCollider&gt;();
            directionalCollider.direction = direction;
        }

        private void AddMaterialTo(GameObject gameObject)
        {
            MeshRenderer meshRenderer = gameObject.TryGetComponent(out MeshRenderer existing)
                ? existing
                : gameObject.AddComponent&lt;MeshRenderer&gt;();

            meshRenderer.material = _material;

            if (!_showCollider) meshRenderer.enabled = false;
        }

        private void AddSoundScriptTo(GameObject box)
        {
            if (box.TryGetComponent(out PlayAudioFMOD audioFmod))
            {
                audioFmod.audioClip = EventReference.Find(_sfxPath);
                return;
            }

            audioFmod = box.AddComponent&lt;PlayAudioFMOD&gt;();
            audioFmod.audioClip = EventReference.Find(_sfxPath);
        }

        #endregion

        #region Checks

        private bool ObjectIsNotInScene(GameObject asset)
        {
            // returns false if object lives in scene -&gt; prefabs do not
            return EditorUtility.IsPersistent(asset);
        }

        private bool BoxFitsInBorder()
        {
            var sizeX = _boxBounds.size.x;
            var sizeZ = _boxBounds.size.z;

            return sizeX &lt;= _borderScaleX &amp;&amp; sizeZ &lt;= _borderScaleZ;
        }

        #endregion

        #region VariableInit

        private void SetScales()
        {
            if (!_asset.TryGetComponent&lt;MeshFilter&gt;(out _))
                Util.Error(ScriptName, &quot;Asset has no MeshFilter!&quot;);

            _boxBounds = _asset.GetComponent&lt;MeshFilter&gt;().sharedMesh.bounds;
            var size = _boxBounds.size;

            var boxScaleX = size.x;
            var boxScaleY = size.y;
            var boxScaleZ = size.z;

            _xScaled = new Vector3(0.1f, boxScaleY, boxScaleZ);
            _zScaled = new Vector3(boxScaleX, boxScaleY, 0.1f);
        }

        private void InitAssetPos()
        {
            _assetPos = _asset.transform.position;
        }

        #endregion

        #region NameConstruction

        private string ConstructBoxName()
        {
            _combinedBoxName = _boxPrefix + _boxName;
            return _combinedBoxName;
        }

        private string ConstructBorderName()
        {
            if (_combinedBoxName.IsEmpty())
            {
                _combinedBoxName = _boxName;
            }

            return _borderPrefix + _combinedBoxName;
        }

        #endregion

        #region BoxCollider

        private void CreateDirectionalBoxCollider(Direction dir, GameObject box)
        {
            GameObject gameObject = GameObject.CreatePrimitive(PrimitiveType.Cube);
            gameObject.name = &quot;DirBoxCollider &quot; + dir;
            gameObject.transform.parent = box.transform;
            gameObject.transform.localScale = CalculateColliderSize(dir);
            gameObject.transform.localPosition = CalculateColliderPosition(gameObject.transform, dir, box);

            AddBoxColliderTo(gameObject);
            AddDirectionalBoxColliderScriptTo(gameObject, dir);
            AddMaterialTo(gameObject);
        }

        private Vector3 CalculateColliderSize(Direction dir)
        {
            return dir switch
            {
                Direction.PositiveX =&gt; _xScaled,
                Direction.NegativeX =&gt; _xScaled,
                Direction.PositiveZ =&gt; _zScaled,
                Direction.NegativeZ =&gt; _zScaled,
                _ =&gt; throw new ArgumentOutOfRangeException(nameof(dir), dir, null)
            };
        }

        private Vector3 CalculateColliderPosition(Transform self, Direction dir, GameObject parent)
        {
            var center = _boxBounds.center;
            var extents = _boxBounds.extents;

            var x = center.x;
            var y = center.y;
            var z = center.z;

            switch (dir)
            {
                case Direction.NegativeX:
                    x += extents.x + _colliderOffset;
                    break;
                case Direction.PositiveX:
                    x -= extents.x + _colliderOffset;
                    break;
                case Direction.NegativeZ:
                    z += extents.z + _colliderOffset;
                    break;
                case Direction.PositiveZ:
                    z -= extents.z + _colliderOffset;
                    break;
                default:
                    Util.Error(ScriptName, &quot;unknown direction found: &quot; + dir);
                    break;
            }

            return new Vector3(x, y, z);
        }

        #endregion

        #region BorderCollider

        private void CreateBorderPart(Direction dir, Transform parent)
        {
            GameObject border = GameObject.CreatePrimitive(PrimitiveType.Cube);
            border.name = &quot;Border&quot; + dir;
            border.layer = _groundLayerIndex;
            border.transform.localScale = CalculateBorderScale(dir);
            border.transform.parent = parent;
            border.transform.localPosition = CalculateBorderPosition(dir);

            _borderGlobalY = border.transform.position.y;

            AddBorderCollider(border, dir);
        }

        private Vector3 CalculateBorderScale(Direction dir)
        {
            var scale = new Vector3(_borderWidth, _borderWidth, _borderWidth);

            switch (dir)
            {
                case Direction.NegativeX or Direction.PositiveX:
                    scale.z = _borderScaleZ;
                    scale.x = _borderWidth;
                    break;
                case Direction.NegativeZ or Direction.PositiveZ:
                    scale.x = _borderScaleX;
                    scale.z = _borderWidth;
                    break;
            }

            scale.y = _borderHeight;

            return scale;
        }

        private Vector3 CalculateBorderPosition(Direction dir)
        {
            var x = 0f;
            var y = 0f;
            var z = 0f;

            switch (dir)
            {
                case Direction.NegativeX:
                    x = -.5f * _borderScaleX - 0.5f * _borderWidth;
                    break;
                case Direction.PositiveX:
                    x = .5f * _borderScaleX + 0.5f * _borderWidth;
                    break;
                case Direction.NegativeZ:
                    z = -.5f * _borderScaleZ - 0.5f * _borderWidth;
                    break;
                case Direction.PositiveZ:
                    z = .5f * _borderScaleZ + 0.5f * _borderWidth;
                    break;
            }

            return new Vector3(x, y, z);
        }

        private void AddBorderCollider(GameObject border, Direction dir)
        {
            GameObject dirColliderGo = GameObject.CreatePrimitive(PrimitiveType.Cube);

            if (!dirColliderGo.TryGetComponent&lt;BoxCollider&gt;(out _))
                dirColliderGo.AddComponent&lt;BoxCollider&gt;();


            BoxCollider boxCollider = dirColliderGo.GetComponent&lt;BoxCollider&gt;();
            boxCollider.name = &quot;BorderCollider&quot; + dir;
            boxCollider.isTrigger = true;
            // order here is important: scale independent of parent, pos relative to parent pos
            boxCollider.transform.localScale = GetScaleForBoxCollider(dir);
            boxCollider.transform.parent = border.transform;
            boxCollider.transform.localPosition = GetPositionForBoxCollider(dir);


            AddDirectionalColliderScriptTo(dirColliderGo, dir);
            AddMaterialTo(dirColliderGo);
        }

        private Vector3 GetScaleForBoxCollider(Direction dir)
        {
            var scale = new Vector3(_borderWidth, _borderWidth, _borderWidth);

            switch (dir)
            {
                case Direction.PositiveX or Direction.NegativeX:
                    scale.x = _borderColliderWidth;
                    scale.z = _borderScaleZ;
                    break;
                case Direction.PositiveZ or Direction.NegativeZ:
                    scale.x = _borderScaleX;
                    scale.z = _borderColliderWidth;
                    break;
            }

            return scale;
        }

        private Vector3 GetPositionForBoxCollider(Direction dir)
        {
            var pos = Vector3.zero;

            switch (dir)
            {
                case Direction.NegativeX:
                    pos.x = _borderWidth + _borderColliderWidth;
                    break;
                case Direction.PositiveX:
                    pos.x = -_borderWidth - _borderColliderWidth;
                    break;
                case Direction.NegativeZ:
                    pos.z = _borderWidth + _borderColliderWidth;
                    break;
                case Direction.PositiveZ:
                    pos.z = -_borderWidth - _borderColliderWidth;
                    break;
            }

            return pos;
        }

        #endregion

        #region Floor

        private void AddFloor()
        {
            InitFloorBounds();

            var floorDimensions = GetNumberOfFloorsInEachDirection();

            var startPos = GetStartPos();

            GameObject emptyParent = new GameObject
            {
                name = &quot;FloorsFor&quot; + _combinedBoxName,
                transform =
                {
                    position = startPos
                }
            };

            CrateFloor(floorDimensions, emptyParent.transform);
        }

        private void InitFloorBounds()
        {
            _floorBounds = _floor.GetComponent&lt;MeshFilter&gt;().sharedMesh.bounds;
        }

        private Vector2 GetNumberOfFloorsInEachDirection()
        {
            // floor prefab is 4x4
            var size = _floorBounds.size;

            var floorScaleX = Mathf.Ceil(_borderScaleX / size.x);
            var floorSclaeZ = Mathf.Ceil(_borderScaleZ / size.z);

            return new Vector2(floorScaleX, floorSclaeZ);
        }

        private Vector3 GetStartPos()
        {
            // floor&#x27;s pivot is bottom left
            // -&gt; choose that border corner as start pos and set empty game object there
            var x = _assetPos.x + _borderScaleX / 2f;
            var y = _borderGlobalY;
            var z = _assetPos.z + _borderScaleZ / 2f;

            return new Vector3(x, y, z);
        }

        private void CrateFloor(Vector2 floorDimensions, Transform parent)
        {
            var startPos = parent.position;

            for (int xPos = 0; xPos &lt; floorDimensions.x; xPos++)
            {
                for (int zPos = 0; zPos &lt; floorDimensions.y; zPos++)
                {
                    var x = startPos.x - xPos * 4f;
                    var z = startPos.z - zPos * 4f;

                    CreateFloorTile(parent, x, z);
                }
            }
        }

        private void CreateFloorTile(Transform parent, float x, float z)
        {
            var y = _borderGlobalY - 0.5f * _borderHeight;

            Vector3 pos = new Vector3(x, y, z);
            var floorTile = Instantiate(_floor, pos, Quaternion.identity, parent);
            floorTile.name = &quot;FloorTile&quot; + _id;
            _id++;
        }

        #endregion

        #region DefaultLoad

        private void AssignDefaultMaterial()
        {
            _material = (Material) Resources.Load(&quot;Materials/DefaultColliderMaterial&quot;);
        }

        private void AssignDefaultFloor()
        {
            _floor = (GameObject) Resources.Load(&quot;Prefabs/DefaultFloor&quot;);
        }

        #endregion
    }
}</code></pre></details></li></ul><p id="c259d350-4cac-4a54-9e88-43440a02e242" class="">
</p><p id="a656d914-a9aa-4b39-8187-68316d954fe8" class="">
</p><p id="66d0eb9c-5b99-4584-a51b-e5cccf1af673" class=""><mark class="highlight-blue"><strong>Puzzle Elements</strong></mark></p><p id="d0fac20d-ff72-46a0-aa38-ac8fe1b5e879" class="">Except for the pushable box, we wanted to include levers, doors, moving platforms and elevators. The last two were implemented by Daki (Sebastian) whereas I was responsible for the rest.</p><p id="bd99d02d-31df-4d6f-917a-1c75e017bc4e" class=""><strong>Levers</strong> should only flick if the player is within a certain range. So I created a sphere collider which updates a <code>boolean</code> variable. We also wanted to show the flicking of the lever, which I did by using <code>RotateTowards()</code> in a coroutine. <br/>Initially, levers could be flicked over and over again, but the others designed their levels in a way that ‚Äúunflicking‚Äù a lever and therefore reversing its effect was not only pointless, but often additionally made the puzzles impossible. That‚Äôs why I added another <br/><code>boolean</code> storing if the lever was flicked already.<br/>Another request during development was to let levers not only open or close doors, but also activate moving platforms or reversing the direction of the orb rail. Thus, instead of having a single <br/><code>Door</code> variable the lever manipulates, I would need some kind of abstraction for any kind of manipulatable object. This is where I came up with the <code>Leverable</code> super class. All inheriting classes will have a method that can be called by a lever as soon as it is flicked:</p><ul id="6d3a5a41-9850-4bba-9396-89fcf940ce67" class="toggle"><li><details open=""><summary><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em>[Script] </em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em>Leverable.cs</summary><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="9741372a-7b8b-45b0-bec4-014da854f788" class="code"><code class="language-C#">public abstract class Leverable : MonoBehaviour
{
    public abstract void OnLeverActivate(); // called if lever is flicked to activated state
}</code></pre></details></li></ul><p id="854567cd-936a-45e0-b566-e9b899611876" class="">This enabled me to add more objects later that could be ‚Äúlevered‚Äù. I created a <code>DoorLeverable</code> along with the <code>MovingObjectLeverable</code> and <code>OrbRailReverseLeverable</code>. To make sure the object marked as ‚Äúleverable‚Äù actually has the correct Component attached that will be called by its <code>Leverable</code> version, I added the <code>RequireComponent</code> attribute. If e.g. a <code>DoorLeverable</code> is added to a GameObject, it will also add the <code>Door</code> script if it didn‚Äôt exist already.</p><ul id="297c7275-73de-4f79-9bf7-2242ed08a596" class="toggle"><li><details open=""><summary><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em>[Script]</em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em> DoorLeverable.cs</summary><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="d16c5f3d-943a-4a80-978e-b256e96225ea" class="code"><code class="language-C#">[RequireComponent(typeof(Door))]
public class DoorLeverable : Leverable
{
    private Door _door;

    private void Start()
    {
        _door = GetComponent&lt;Door&gt;();
    }

    public override void OnLeverActivate()
    {
        _door.OpenDoor();
    }
}</code></pre></details></li></ul><p id="a41c503e-16c3-45e3-93d5-3e9b95473d52" class="">I then turned the single <code>Door</code> variable in the <code>Lever.cs</code> script into an array of <code>Leverables</code>. Now if the lever is activated (which of course only happens if the player is in range and the lever wasn‚Äôt already flicked), it will go through this very array and call <code>OnLeverActivate()</code> on all of them.</p><p id="488eefb9-4deb-4d1b-9d9d-ced6b412485a" class="">The array approach to the levers also solved another problem I had concerning <strong><strong><strong><strong>Door</strong></strong></strong></strong>s: As I wanted to have both single and double doors, I had made a <code>Door</code> superclass, used for single doors, along with a <code>DoubleDoor</code> class inheriting from it. Now that levers could manipulate more than one object, I could easily add the general <code>Door</code> component to each of the doors and add both to the levers set of manipulated objects. Doors are opened by using <code>RotateTowards()</code>, again.</p><p id="c10879ef-259e-461d-8c12-29c367909cef" class="">I designed the majority of my level puzzles with gears that can open doors. Unlike the levers, these cannot be activated by the player but rather react to the orb. To show that the gear is doing something, I additionally wanted it to spin as soon as the orb affects it. The obvious approach was to use <code>OnTriggerEnter()</code> to start both the gear rotation and its effect. I quickly realized that the orb‚Äôs trigger was always active, even if the orb itself was deactivated by the player. So I needed to check whether the orb was activated by querying a variable from its script. I chose to find the orb by its tag and using <code>GetComponentInChildren&lt;OrbMechanics&gt;()</code> to reference the orb component in the gear‚Äôs <code>Start()</code> method rather than creating a <code>SerializedField</code> variable. I did this because I wasn‚Äôt sure if the orb would be in the Scene from the beginning or if it will be instantiated when entering play mode. Also we had changed the hierarchy of the orb object and all its children, so I wanted to be flexible for how it is constructed later on. This way, nobody would have to reassign the orb variable if anything was changed in how it was implemented.</p><p id="12593797-042d-476f-9fd5-460604548356" class="">An additional request again came from myself: I thought it would help the player to understand which objects are manipulated by the gear if I would ‚Äúwire‚Äù it up by building a chain of gears and ropes leading towards a door or a platform. This meant, that only the first gear should react to the orb and the others will start spinning simultaneously. To achieve this, I created a <code>boolean</code> indicating whether the gear should be activated by the orb. Initially, I also added a <code>Gear[]</code> variable to the script allowing for manipulating other gear objects just like I did with doors. Then I realized that I could just reuse the door script vor the gears that are affected by the orb-controlled one. So I got rid of this again. Here is the script (I removed sound and some visual effects):</p><ul id="2cc2a19d-2595-4442-8891-251c182f2e0f" class="toggle"><li><details open=""><summary><em><em><em><em><em><em><em><em><em><em><em><em><em><em><em>[Script] </em></em></em></em></em></em></em></em></em></em></em></em></em></em></em>Cog.cs (shortened)</summary><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="c7eba77d-81a9-4523-bfb5-96d14b04c4fd" class="code"><code class="language-C#">public class Cog : MonoBehaviour
{
    [Header(&quot;Orb Effect&quot;)]
    public bool affectedByOrb;

    [Header(&quot;Rotate Effect&quot;)]
    [SerializeField] private Door[] doors;
    [SerializeField] private MovingObject[] movingObjects;

    private bool _doRotate;
    private Vector3 _rot;
    private OrbMechanics _orb;
    
    private void Awake()
    {
        InitOrb();
        InitDoors();
        InitMovingObjects();
        
        _rot = transform.eulerAngles;

        _doRotate = false;
    }
    

    #region Init

    private void InitOrb()
    {
        // orb object has lots of children so search for the one with the script
        _orb = GameObject.FindWithTag(&quot;Orb&quot;).GetComponentInChildren&lt;OrbMechanics&gt;();
    }

    private void InitDoors()
    {
        // foreach throws error if empty
        if (DoorsIsEmpty()) return;
        foreach (var door in doors) door.cog = this;
    }

    private void InitMovingObjects()
    {
        if (MovingObjectsIsEmpty()) return;
        foreach (var moving in movingObjects) moving.cog = this;
    }

    #endregion


    public void Stop()
    {
        _doRotate = false;
        affectedByOrb = false;
    }


    #region TriggerEvents

    private void OnTriggerEnter(Collider other)
    {
        DoEffectIfOrb(other, true);
    }

    private void OnTriggerStay(Collider other)
    {
        if (_orb.GetOrbEnabled() &amp;&amp; !_doRotate)
        {
            DoEffectIfOrb(other, true);
        }
        else if (!_orb.GetOrbEnabled() &amp;&amp; _doRotate) // stop orb correctly
        {
            DoEffectIfOrb(other, false);
        }
    }

    private void OnTriggerExit(Collider other)
    {
        DoEffectIfOrb(other, false);
    }
    
    #endregion

    #region Helpers

    private void DoEffectIfOrb(Collider other, bool start)
    {
        if (CanBeIgnored(other)) return;

        if (start) StartRotationEffect();
        else StopRotationEffect();
    }

    private void StartRotationEffect()
    {
        _doRotate = true;
        StartCoroutine(Rotate());

        if (!DoorsIsEmpty())
        {
            foreach (var door in doors) door.OpenDoor();
        }

        if (!MovingObjectsIsEmpty())
        {
            foreach (var movingObject in movingObjects) movingObject.ActivateMoveObject();
        }
    }

    private void StopRotationEffect()
    {
        _doRotate = false;

        StopCoroutine(Rotate());

        if (!DoorsIsEmpty())
        {
            foreach (var door in doors) door.StopOpening();
        }

        if (!MovingObjectsIsEmpty())
        {
            foreach (var movingObject in movingObjects) movingObject.DeactivateMoveObject();
        }
    }

    private IEnumerator Rotate()
    {
        while (_doRotate)
        {
            if (!OrbIsEnabled()) yield break;

            transform.localRotation = GetRotationChange();
            yield return new WaitForFixedUpdate();
        }
    }
    
    private bool OrbIsEnabled()
    {
        return _orb.GetOrbEnabled();
    }

    #endregion
    
    
    // rotation around z axis here
    private Quaternion GetRotationChange()
    {
        return Quaternion.Euler(new Vector3(_rot.x, _rot.y, transform.eulerAngles.z + 1));
    }


    #region Checks

    private bool DoorsIsEmpty()
    {
        return doors.IsEmpty();
    }


    private bool MovingObjectsIsEmpty()
    {
        return movingObjects.IsEmpty();
    }

    private bool CanBeIgnored(Collider other)
    {
        return !affectedByOrb || !other.HasOrbTag();
    }

    #endregion
}</code></pre></details></li></ul></div></article><span class="sans" style="font-size:14px;padding-top:2em"></span></body></html>